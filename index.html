<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>My Start Page</title>
    <link rel="stylesheet" href="style.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600&display=swap" rel="stylesheet">
</head>
<body>

    <div class="container">
        <h1 id="greeting">Welcome Home.</h1>

        <form action="https://www.google.com/search" method="GET" class="search-box">
            <input type="text" name="q" placeholder="Let's find it..." autocomplete="off" autofocus>
        </form>

        <!--  The Slider Navigation -->
        <h3>Quick Links</h3>
        <nav class="shortcut-slider" id="slider">
        <!-- Dynamic items will appear here -->
    
            <!-- The 'Add' Button is hardcoded at the end -->
            <div class="shortcut-item add-btn" onclick="openModal()">
                <div class="icon-circle">+</div>
                <span>Add</span>
            </div>
            <!-- End of Addbutton section -->
        </nav>
        <!-- End of The Slider Navigation section -->

        <div class="links-grid">
            <a href="https://github.com" class="card">
                <span>ðŸ’»</span> GitHub
            </a>
            <a href="https://youtube.com" class="card">
                <span>ðŸŽµ</span> Music
            </a>
            <a href="https://reddit.com" class="card">
                <span>ðŸ‘½</span> Reddit
            </a>
            <a href="https://gmail.com" class="card">
                <span>ðŸ“§</span> Mail
            </a>
        </div>
    </div>

    <!--  The Modal (Hidden Form) -->
    <div class="modal" id="addModal">
        <div class="modal-content">
            <h4>Add New Shortcut</h4>
            <input type="text" id="inputLabel" placeholder="Name (e.g. Google)">
            <input type="url" id="inputUrl" placeholder="URL (e.g. https://google.com)">
            <div class="modal-buttons">
                <button class="cancel-btn" onclick="closeModal()">Cancel</button>
                <button class="save-btn" onclick="saveShortcut()">Save</button>
            </div>
        </div>
    </div>
    <!--  End of Modal -->
    
    <!--  JavaScript Logic -->
    <script>
        // Load saved shortcuts on page load
        document.addEventListener('DOMContentLoaded', loadShortcuts);

        function loadShortcuts() {
            const shortcuts = JSON.parse(localStorage.getItem('myShortcuts')) || [];
            const slider = document.getElementById('slider');
            const addButton = document.querySelector('.add-btn');
        
            shortcuts.forEach(shortcut => {
                createShortcutElement(shortcut.label, shortcut.url, slider, addButton);
            });
        }
        
        function saveShortcut() {
            const label = document.getElementById('inputLabel').value;
            let url = document.getElementById('inputUrl').value;
        
            if (!label || !url) return alert("Please fill in both fields");
            if (!url.startsWith('http')) url = 'https://' + url;
        
            // 1. Save to Local Storage
            const shortcuts = JSON.parse(localStorage.getItem('myShortcuts')) || [];
            shortcuts.push({ label, url });
            localStorage.setItem('myShortcuts', JSON.stringify(shortcuts));
        
            // 2. Add to DOM
            const slider = document.getElementById('slider');
            const addButton = document.querySelector('.add-btn');
            createShortcutElement(label, url, slider, addButton);
        
            // 3. Cleanup
            closeModal();
            document.getElementById('inputLabel').value = '';
            document.getElementById('inputUrl').value = '';
        }
        
        function createShortcutElement(label, url, container, insertBeforeNode) {
            const a = document.createElement('a');
            a.href = url;
            a.className = 'shortcut-item';
            // Get the first letter of the label for the icon
            const firstLetter = label.charAt(0).toUpperCase();
            
            a.innerHTML = `
                <div class="icon-circle">${firstLetter}</div>
                <span>${label}</span>
            `;
            
            // Insert the new link *before* the Add button
            container.insertBefore(a, insertBeforeNode);
        }
        
            // Modal Controls
        function openModal() { document.getElementById('addModal').style.display = 'flex'; }
        function closeModal() { document.getElementById('addModal').style.display = 'none'; }
    </script>    
    <!-- End of JavaScript Logic -->
        
</body>
</html>
